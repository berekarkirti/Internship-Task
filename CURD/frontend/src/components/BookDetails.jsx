import axios from 'axios';
import React, { useState,useEffect } from 'react'
import { useParams } from 'react-router';

const BookDetails = () => {
  const { id: bookId } = useParams();
  const [book, setBook] = useState(null);
  const [loading, setLoading] = useState(true); 
  const [error, setError] = useState("");     

  useEffect(() => {
    const BookDetails = async () => {
      try 
      {
        const response = await axios.get(`http://localhost:9091/books/singledata/${bookId}`);
        setBook(response.data);
      } 
      catch (err) 
      {
        setError("Failed to load book details.");
      } 
      finally {
        setLoading(false);
      }
    };

    BookDetails();
  }, [bookId]);

  if (loading) return <p>Loading book details...</p>;
  if (error) return <p>{error}</p>;

  return (
    
    <div id="details">
    {book ? (
      <li className="details">
        <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHBgkIBwgKCgkLDRYPDQwMDRsUFRAWIB0iIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RD84QzQ5OjcBCgoKDQwNGg8PGjclHyU3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3N//AABEIAJQArgMBEQACEQEDEQH/xAAbAAABBQEBAAAAAAAAAAAAAAAAAgMEBQYBB//EAEUQAAEDAwEDCAYGBwcFAAAAAAEAAgMEBREhBhIxEyJBUWFxkaEUQoGxwdEHFTIzUmIjU3KDkpPhJENEVHOCohY0RbLx/8QAGgEBAAMBAQEAAAAAAAAAAAAAAAEDBAIFBv/EADQRAAIBAwEGAwgABgMAAAAAAAABAgMEETEFEhMhMkEUUZEVIkJSYXGBoQYjsdHh8CRDwf/aAAwDAQACEQMRAD8A9xQAgBACAEAIAQHMhARq2vpKJm9VVEcQ/MdfBcTqRh1M7hTnPlFFFQbWxVLpXPo5o4BK5sUnRI0esOxZPGJPmuRrVjKS918y8pblSVP3UzSeo6FaYVoT0ZmnQqQ6kSshWlR1ACAEAIAQAgBACAEAIAQAgBACAEAiSVkbS6Rwa0cXOOAFDeNQk28Io63aq3wncpS6rl4BkAz5rPK6guUebNMLWb5ze6vqQXVG0N00j3LdCesZefkqnKtU1eEWpUKei3mOUmzdIyTlqsvq5jxfMc+ASNGCedWJXE2sLkvoRtrw2np6QsAaA5zQMaAY/os95ojRYP3pFBHVYxzlhTPS1LGkvVTAQI6hwA6DqPNXwuKkdGUVLalPVF3S7TaAVEQPa04WuF8/iRiqbO+RltTXeiqMBszWuPqv0WuFzTn3MdS1qw1RNDgeGqvM4pACAEAIAQAgBACAEAICDcbrR24D0qdrHEZDBq49wVc6sYalkKU6nSUs19ulZzbVQOjYeE9QceAVDrVJ9KwXqjTh1vL+gw2xVNa4PvFdLUH9WzmtCrdLPOTyd8bdWKawXFJbqakbu08LGDsCtSSXIplJvUlhowuiDjnNYMuIAHWobwDFbe3KB7aSGCaN5DnF264Hd4cVhu5KWEj0bKDi22ZL0oj1vNYsHoZHGVhByT5oRklxV2vHzTmSmiVHXdvmmQWFLeJqcgxTPZ2A6FWQrShoyqdCE+pF1S7UyDHLxteOsHBWyF/JdSyY6mzovoeC4pb7RTkAycmT0P081rhd05d8GKpZ1odslkx7Xty1wcOsHK0Jp6GZprUUpIBACAEAIAQAgI1VTQyjfkiY54GA4tBI9q4muWTqDaeBhrABr0BUlomaogpml08rIwOlzsKJSjHVkqMpaIoLjtvZaPIE4lcOgHA81U63ypsvVtLWTSMvcfpKL8to9yNv5Gl59yjduZ9McHX/ABIdU8mcrNqq2ucd4VcxPQTgeCeArPnP9nSv7eCxBEYG9VWORtb8H8RPyXS2el1SRW9pt9MGPwWHaSd2ZII2MPRzQR4lWxs7aOsmyqV9cvSKRaM2OvEkQEHIxSHg6SQux3gKzh2vy5KlXun8WB6qsklG70eWURVbGgnd1Y/TiM6jpSVhSrR34cmIbQrUZbtTmQnmppTiobzR641B+S8yvY1aXbkerQv6VXR8x2Oq7Vk3WbVIkMrD1qCckmKt14oCdS3OWA5ilcw/ldhdxqSh0s4nThPqWS6oNqJ2yRsqC2SMnDjjBC1072eUpGKrYU2m4cmbJuo0XrHjnUAIAQAgOHggKa73WqpXOjgts04AH6QfZPhqqKs5rlGOTRRpwlzlLBk629XmpqI6dkrKISODccmQdTjiVXSqJP8AmItq0HjNNjsmw8tWSbhXySdeg+OVoU6a0gjG1UlrNio/o9tEOvJOkP5j8sKePLtyI4EO/Mls2at8GsdDTjvYD71w6k3qztU4rRDzaJkQwyNrR0BowuW2d7qOmEDo17VGSR+kpwZN7AwFBOC0a0AcEBjdvCIq2jkGhMbhnuI+a22jymjDddSZnmVAc3B17FsMpWXKjlA5agl5N7eMRHMd8vYslaxpVeaWGbaF9Vpd8oqI77yUnJVsJieND0jxXj1rGdPQ9mjf06hZwXCCUAsfqeCxumzaqiJrJiMYOVy4M6U0PsqD1lc4aOk+Z7BQEmhpy7iY258F9BT6UfNT6mSF2cggBACAEAIBLwC0ggEdRUMEYlU5LhDlBI07CgDTgCoySMPYCobROByEBg0UJhrBIDwBqV2QeffSBWsku0NOwgmCLn463Hh4Bb7WOItnn3UszwZtkmq1GYfbJlAQrnQR1jd8tG92KGsnUZOJnja6mCX+znGDoOhYqltCZupXUoaHp+wuzNDc7cJJ6uczswJI91o3T2HXRZXaRWpqV7J6I18extnYWkwyPLTnLpDr2FFbU/IO7qvuaBowMLQZjqAEAIAQAgOZQFddbxR2zdFXIWukB3GhpJdjuUNrzIzgqTtJTn7qmrJO1tO4DxIAWWdWjDqqR9S5Ob0i3+Bp+0L/AFaGZv8AqPY34lUSvrRfHn7JlsaNZ/CR332pe7DY6ZvY6YuPk1UvaVH4Yyf4O/DVe+F+Q9PrnjI3Nfwwk+8rnxtWXRRf5Z14dLqmgbJXPOS5/g1vzXDqbQfTCK+7OuHRWssiSyt5N/pM8rGl2GOidhw79MeSqubu7tIqpPDz2wSqNGp7sc8jHX//AKgppw6juEksOMgPcQ4HvGnkrLTb8JrFWHP6FdXZ0s5jIz8lRcOVdJWU0r3uOXPBDs/FetS2vbS5ZwYZ2FVcwbXxA4l3oj1SNLfet8LqjPpkjNO3qR1RLhnY8ZjcHDsOVemnoUuLQ+2XCnJGAdhxyuWdJmt+jaYsvM0WebJATjtBb8yqaq90upP3j0lUGgEAIAQAgBAcPAoCprqGUu3o6udoc4kt3tB2BedWslKWd5+pqp1sLG6iJ9Vh32p5Ce1ypWzqL6k392y3xE+ySBlmpwSSXOJ63Ej3qyNjbx5qCIdxUfceFtpm/wB2FaoU46JHDqSerFei08fEMb3kBHUhHV4ISkxt81DF9qaFvtVXjKGcKSf7J4Uu6Gjc7fH/AImM9yzz2lbx7/1LI29SWiINzudPUxNZCSRvZyeB06F5W0b6ncU1CPmbLahKEssq5QyT7QyvGxg2jRpoTxY0+xd5kjnCOG3Ujxh8EZB7F2qkxuxYw/Z2zyO3jRRh3W3LSPaCtVO8uKfTNopnb0paxA7N0GOYZ2D/AFM+/K3U9tXcNXn8GWWz6Eu2CHPszMOdS1rcfglj+I+S9Cl/EL/7IehlnspfDIu9hrfJbblJUXGSJruT5OPcdkEkjXhpw81uhte3re7nH3KPAVabzqehBbSo6gBACAEAICNX1T6aAvjppqk5xuQ7ue/UhFjuDJVl8vZdmktszgToJ5I2bo9hK86rRrOTarcvsaoSppc4fsgvuW18h5lJQxdrqlz/ACDQqnaTetd+iO+JHtAAza2Yc+vpI/2I3H4rvwdL45yf5x/4OI+0UvwMfVG0crjyt83Gn9XEM+ZRWtqvgz92/wC436j7/pChsrUy61F3r390gb7grFSt46Uo+mf65OW5vWTI162PporRVVXLVMk1PBJJGZJnHUAnrWuhVcZrdSX2SRTOPuvLfqeQVXKSP32yOB6wSCt1WlGb5pehRGo0MNqrjCf0NdVN/euWWVlRlrBehcria0ZKivl/hI5O5T4HQ7B+Colsm0lrBFivaq+IsINrdo2cZopP2mLPLYNrLRNfksW0aq7lhT7b30aPo6WT/cWqiX8N0X0ya9CxbTl3SLOl22rHY5e1hvayo3veAs8/4aqfBU9UWR2nHvEsotr4iAXQSN9oKqf8OXa0a/38HftOj3TJLNrKZ32mOCrlsK9S5RT+zOltC3fcm0G0FHU1DI3TMiyRzpHBoCpjsi9Ulmm9TqV5RcXhnp1PLHPG2WGRskbhlr2nIPtX1qWOR4g6gBACAEAICNXVdNRQ8rVzxwx5xvPdgZTGQZSbaax5ANwp+wbyo4VTyLlJPuIG0NqP3dQ09zSuHCS1LUm+xx20lvB3TO4Hsid8ly1gtVCo9Iv0EP2mtrBl1Q890Lz8FKSfdep14esvgfoQ6nbqxUY3qieYDrMDwPEhdxpN8k16lc6dSKy4v0KHaT6SbPV2Oupbe+R800Ri3iMAb2h8sq+nQcZJyaM055WMHmDKqI+uz+ILfvx8zPuMDNE46OHiE3kRus6JYx0jxU5Q3WHLxN9cD2qckbok3Gmbxmb4qXNDcOC8QN4SNPtXLmjrhjrbzHu432gJxCeEOfW8Wn6QeKcQcJk6GrEjd9hyOtdqeSpwxqe2fRPPLNso0S53Y6iRseT6uh95KyXHWWQ0NmqDsEAIAQAgItdRx1tO+GUvDXa5Y8tPiFEllYOoScHlGQi2etjJHltPgk8528QSe9ZnFdzUriotHglMsdv/AFIPe4lRux8jrxNb5mQb/Z6KjslXUxQMa+Fhe1xGSO4qKkUo6GizuKjrxTfc85dc346FjPpeSK6snNTG9kmC1w1CnLIk01hmdntbN8lg0V0ajwedUoRzyENtbXcRop4jOOAh+Kz0395l3ccKHVl2LFaw7lhBQ2+LH9kjcet2q44kjtWtPyLGEUjPs0cI7QxcucvMujQitCXHLAOEEY/2qN5lipIdFRB+oi9rAmZHXDQsVFN/lof5YTel5k8KPkHLQ9FNB/LCb0vMcGHkjraiEf4aD+WFKqTWjOXb0nrFfos7ZtHVWx0QppSyFjs8kDzDrqMeK6jVmnqUVrGhODW6j2eJwfG1zeDhkL1D45rDwLyEAIAQEW4VE9NAZKem9IcOLN8N069VzJtLkgigrr/cnU7201tfDPxa9zg8DXpGipdWXZFkUk8szMldtAxxc6njdrk5Y4e7Ko3qnkalUo94v1OM2luUJbytEw66hrvnhc8WS1R2nbS80RdodrDVWappBRzB0rMZDS7pHUCkqu8sGi3jQhNTU9DzQfWU+TDRVJGcfcuHvC43UtWapX0PM4aW89Fvn9oA+Kn3fM48dDzOGkvY/wDHyeLfmmYfMcu/h5iRTXocaB/i35pmn8xHj4DjIbxn/sHfxBRvQ+Y79owHBFd862938QUZh8w9o0x9kVza3efQkNHE77dPNStxvUS2nDDxqWdLarpU07JobdNJG7QObg669vYfBX8KL7FK2nLzHaux3ena3FEXhxIHJyNcRgNOuun2wnBiPac/P9Irpae6RaOpngZxkluOjt04jxHWuuDEj2nU+b9AyG6cTTS53t3G6M56scc9icGPkFtOp836FelMZzZnAPH2gNceGi5dGJYtpS+YkUr46hwEbgBkAuPAdqjhQIltOWOTPTjtBcIo42Qz6AAA8m3h4LctDw28vI2do7r/AJofy2/JAO0+0F0fkOqAf3bfkgN0gIVyfWsYz0GmjnJJDw+TdwOxV1N7HukoqZa24xtLp7NMA0ZLo5mOA9ypzOOsTvKZWQ7WWeoOrnNJ6CAfcuONHudypyjqiYK20VTg0VEO8eAcce9dKcH3ODr7XQzcIoH9wClxiwUO0dmo7bb5rhTxBkgc0OO8TvDOMa94VFeEVDKBkH3Udix4Ay67NHHCYGBt13Z+XxTdJwxo3dnW0e1Thk7ok3dg9dqYJ3WNzXdjo3s325IxjK7px95BxZo7RXXOSzUkFAadud8tc4YJBeQWkuG7xPDjjB0W9b2MIrwFZ9c08D3zVFM50reRLsgGPlMMJyBrkMAJyRwPHClKSBBfb9oBLyrJocPzh791uRhoOhHUG+HXlTushnK1l7dHGyoqaSnLzziGiQyOJYBnAIBJkbp39AU4YwZ41UctTO6adk7t8gytHNfjQEaDTC4aZOB+KaAuDYyHOOga3iVGGxg9Apo3MoIWPOXsjAd2HGq0x0OBipzuNaMgnjhdAmURyw54jAQHpiAEBxwyCOtAZy4bO2qSoc80MAPHmsA1WecI50NcLiru43iqm2YoD92x8fY15x4FVulF9iXVb6kn+CE7Z6eF29S18jcfib8QQuHR58mct032x/v1IF6oNoKimdTGYVMDsZG8OIORx1XEoT01OXFN8jGXWz3WlYT6DMXcNBp4qvhvuX07Wc9GvUoH0F4kcf0cTewyf0U/y1qzfDZVdrPL1E/U10d9qSJvXqfkm/S8i5bIrd2jo2euT9fSYx3MJ+KlVafkdex6nzr0/wAi27MVp+1VjtxH/VTxY9onXsjGtT9f5Ho9l5WuDnVj9OjdCjjeUTr2RT7zfoiayyBo1qHFdeIl5D2PQ83+v7CjY6c/blkPcniJk+yKHmzn1BQ9JlJ7XqfESHsi3+ooWOhbwY72lPESHsq3Q9DaqKJuGQNOOGQCo48jpbNoIkMp4mEGNgY4cC1oCcaRPgaRpdioGVl2dRTySBksRIwekf8A0q6hVlKWGedtK1jCjvx8zdHZGidxnn/4/JbDwhceytJHndnn1/Z+SAv0AIAQEGp+9d7FRPUtjoRy0ELk6GHxoBp8eeIQCGw5dg8D0IBupstFVNxNTRPPW5gz4rlxT1LoXFWHTLBUV2yVFHTTT0rXsmZGSz9Icaa4xlVypRxyNlHaNbiR35cjCOqS7pKy4PphBlzxQCd/tQjJzeQZDOVJDkdwUOd4ApwQ5DjVKRw5CgFODneNR9HkG/tCJBwihcT7cD4q+3Xvnl7VnihjzZ6ktx88CAEAICLX+leiyegCI1GOZyxIbntxqoeccjqG7vLf0+hkKi7bRUErjcrUZY86vpxkAezPwWSUqifvI9RULWov5VTD+o5S7W2yoO6+R8TukSDh4LlVUczsK0FnGUXENXBUM3oZWPb1tOVYmZHFxeGhRAPBSchG3BQkfCEHS3eGD06Iyc45nh0w3JZGjg15CwtH2MZZihIyoJyKCnBzvCgpwQ5HRoiRDYE44qSMnQ4a5PBDnIuASVD+Tpo5Jn/hiYXHwC6Sb0K5zjHnJ4Lmi2U2grCN23mFp9aoeGDw1PkrFRm+xkqbQoR75+x6Hsjs79RUz+WeySqlPPewaADgBlaqVPcR4t3dO4kvJGhVplBACAEAIDm72oCHXWmguDSKykilz0ubr48Vy4xeqLKdapSeYSwZ2s2Cocl9tqqmjf1B2+PPXzVLto9uRujtOpjFSKkV77TtXa8mCWG4RDgM87wPzKrdKpHTmW8WyrcnmLG49rJKR/J3egqKZ/5mn4rhzcepHXgN9ZpSUi5or/b6rHJ1DAT0OOF0qkWZqlrWpvnEszOwRmQOBa1pcSD1LvPIoxzweJu5znOPrOJWRn1a5JCC5o4oTkI5BI4MjBkeeDWDePgEwcyklqy2o9nL5WAGC11O6eBkbyf/ALYVipTfYyzvaENZL+pc0n0d3qY5qqikpmdQc6R3hgDzVitpdzLPa1JdKbL2i+jagbg1ldVTdYYGsHuJ81araPcxz2rVl0pL9l5RbHWCixyVuic4etMTIf8AkSrI0oR0Rlnd156yLqKCKFgZDGyNg9VjQArFyMzy9RYGEB1ACAEBAF2oiMiUkdYjd8kAr6zpfxSfynfJAPU9VFUF3JOcd3GctI96AfQAgBAcwOpAImhjnYWTRtkYeLXDIQlNp5RQ1+xtlqyXNpTTyfigdu+XDyVMqEJdjZS2jc0+W9lfXmU0mxFygkkbb748U0zCx0czM4z0jH9OKr8O+zNPtGnNqU6fNeRym+jambj0u4TykdEbAweeVKto92J7WqPpikXFHsRs/S4P1eJ3D1qh7n+ROPJWKjBdjJO/uJ6yx9i8paOmpW7tNTxQjqjYG+5WJJaGaUpS6nkfwFJydwgBACAEAIAQAgBAVjbLRBmA2QA9AkKAcNppukzH96UA9SUkVIXCLe52pLnEnRASUAIAQAgBACAEAIAQAgBACAEAIAQAgBACAEB//9k=" alt="" height={80} width={80}/>
        <p className="Title">Title: {book.Title}</p>
        <p className="Author">Author: {book.Author}</p>
        <p className="Price">Price: {book.Price}</p>
        <p className="description">{book.Description}</p>
      </li>
    ) : (
      <p>No book details available.</p>
    )}
  </div>
  )
}

export default BookDetails
